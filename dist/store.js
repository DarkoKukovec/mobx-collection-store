exports["mobx-collection-store"]=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),c=n(1),f=function(){function t(e,n){var r=this;i(this,t),this.collection=null,this.data=u.observable({}),this.attrs=u.observable({}),this.refs=u.observable({}),u.transaction(function(){r.id=e[r.static.idAttribute],r.collection=n,r.update(e),r.__initRefGetters()})}return a(t,[{key:"__initRefGetters",value:function(){var t={},e=Object.keys(this.static.refs),n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value;t[c]=this.__getRef(c)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}u.extendObservable(this.refs,t)}},{key:"__getRef",value:function(t){var e=this;return u.computed(function(){return e.collection.find(e.static.refs[t],e.data[t])})}},{key:"__getProp",value:function(t){var e=this;return u.computed(function(){return e.data[t]})}},{key:"__setRef",value:function(e,n){var r=this;return u.transaction(function(){if(n instanceof t){var i=r.collection.add(n);r.data[e]=i.id}else if("object"===("undefined"==typeof n?"undefined":o(n))){var a=r.static.refs[e],u=r.collection.add(n,a);r.data[e]=u.id}else r.data[e]=n;return r.collection.find(r.static.refs[e],r.data[e])})}},{key:"update",value:function(e){var n=this,r={},i=e instanceof t?e.attrs:e,o=Object.keys(i),a=this.static.idAttribute;return u.transaction(function(){o.forEach(function(t){t===a&&n.data[a]||(r[t]=n.set(t,e[t]))})}),r}},{key:"set",value:function(t,e){var n=e;return t in this.static.refs?n=this.__setRef(t,e):this.data[t]=e,t in this.attrs||u.extendObservable(this.attrs,r({},t,this.__getProp(t))),n}},{key:"toJS",value:function(){var t=u.toJS(this.data);return t[c.TYPE_PROP]=this.type,t}},{key:"static",get:function(){return this.constructor}},{key:"type",get:function(){return this.static.type}}]),t}();e.Model=f,f.idAttribute="id",f.refs={},f.type=c.DEFAULT_TYPE},function(t,e,n){"use strict";e.TYPE_PROP="__type__",e.DEFAULT_TYPE="__default_type__"},function(t,e){t.exports=require("mobx")},function(t,e,n){"use strict";var r=n(4);e.Collection=r.Collection;var i=n(0);e.Model=i.Model},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t,e,n,r){var i,o=arguments.length,u=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(u=(o<3?i(u):o>3?i(e,n,u):i(e,n))||u);return o>3&&u&&Object.defineProperty(e,n,u),u},c=n(2),f=n(0),l=n(1),s=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,t),this.types=[],this.data=c.observable([]),(e=this.data).push.apply(e,r(n.map(this.__initItem)));var o={},a=!0,u=!1,f=void 0;try{for(var l,s=this.types[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var y=l.value;o[y.type]=this.__getByType(y.type)}}catch(t){u=!0,f=t}finally{try{!a&&s.return&&s.return()}finally{if(u)throw f}}c.extendObservable(this,o)}return o(t,[{key:"__getByType",value:function(t){var e=this;return c.computed(function(){return e.data.filter(function(e){return e.type===t})})}},{key:"__getModel",value:function(t){return this.types.find(function(e){return e.type===t})||f.Model}},{key:"__initItem",value:function(t){var e=t[l.TYPE_PROP],n=this.__getModel(e);return new n(t,this)}},{key:"add",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.DEFAULT_TYPE;if(t instanceof Array)return c.transaction(function(){return t.map(function(t){return e.add(t,n)})});var r=void 0;if(t instanceof f.Model)r=t;else{var i=this.__getModel(n);r=new i(t,this)}var o=this.find(r.type,r.id);return o?(o.update(t),o):(this.data.push(r),r.collection=this,r)}},{key:"find",value:function(t,e){return e?this.data.find(function(n){return n.type===t&&n.id===e})||null:this.findAll(t)[0]||null}},{key:"findAll",value:function(t){return this.data.filter(function(e){return e.type===t})}},{key:"remove",value:function(t,e){var n=this.find(t,e);return this.data.remove(n),n}},{key:"removeAll",value:function(t){var e=this,n=this.findAll(t);return c.transaction(function(){n.forEach(function(t){e.data.remove(t)})}),n}},{key:"toJS",value:function(){return this.data.map(function(t){return t.toJS()})}},{key:"length",get:function(){return this.data.length}}]),t}();e.Collection=s,u([c.computed],s.prototype,"length",null)},function(t,e,n){t.exports=n(3)}]);